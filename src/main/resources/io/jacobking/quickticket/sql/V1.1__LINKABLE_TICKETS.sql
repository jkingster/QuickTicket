ALTER TABLE TICKET
    ADD COLUMN RESOLVED_BY TEXT DEFAULT NULL;

CREATE TABLE IF NOT EXISTS TICKET_CATEGORIES
(
    ID          INTEGER PRIMARY KEY AUTOINCREMENT,
    "NAME"      TEXT NOT NULL,
    COLOR       TEXT NOT NULL DEFAULT '#5DADD5',
    DESCRIPTION TEXT NOT NULL DEFAULT ''
);

INSERT INTO TICKET_CATEGORIES (ID, NAME)
VALUES (0, 'DEFAULT');

ALTER TABLE TICKET
    ADD COLUMN CATEGORY_ID INT NOT NULL DEFAULT 0;

CREATE TABLE IF NOT EXISTS ALERTS
(
    ALERT_ID        INTEGER PRIMARY KEY AUTOINCREMENT,
    ALERT_NAME      TEXT    NOT NULL,
    ALERT_STATE     BOOLEAN NOT NULL DEFAULT TRUE,
    ALERT_PARENT_ID INTEGER NOT NULL
);

INSERT INTO ALERTS(ALERT_NAME, ALERT_STATE, ALERT_PARENT_ID)
VALUES ('DISABLE_ALERTS', FALSE, -1),
       ('DISABLE_NOTIFICATIONS', FALSE, -1),
       ('INFORMATIONAL_ALERTS', TRUE, 1),
       ('ERROR_ALERTS', TRUE, 1),
       ('CONFIRMATION_ALERTS', TRUE, 1),
       ('WARNING_ALERTS', TRUE, 1),
       ('INFORMATION_NOTIFICATIONS', TRUE, 2),
       ('ERROR_NOTIFICATIONS', TRUE, 2),
       ('CONFIRMATION_NOTIFICATIONS', TRUE, 2),
       ('WARNING_NOTIFICATIONS', TRUE, 2);

DROP TABLE IF EXISTS ALERT_SETTINGS;



